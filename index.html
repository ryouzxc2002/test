<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Unscramble Us üíò</title>
<style>
  :root{ --bg:#0f0f14; --card:#171821; --ink:#ffffff; --muted:#b7b9c0; --accent:#ff4d6d; }
  *{box-sizing:border-box}
  body{margin:0;min-height:100vh;display:grid;place-items:center;background:radial-gradient(1200px 600px at 50% 10%, #1a1a25, #0f0f14);color:var(--ink);font:600 18px/1.55 system-ui, Segoe UI, Roboto, Arial}
  .wrap{width:100%;max-width:680px;padding:24px}
  .card{background:rgba(255,255,255,.06);border:1px solid rgba(255,255,255,.12);backdrop-filter:blur(8px);
        border-radius:18px;padding:28px;box-shadow:0 10px 40px rgba(0,0,0,.45)}
  h1{margin:.1em 0 .45em;font-size:clamp(22px,3.8vw,30px);letter-spacing:.2px}
  p{margin:.2em 0 .9em;color:var(--muted)}
  .row{display:flex;gap:10px;flex-wrap:wrap}
  input, button{
    font:inherit;border-radius:12px;border:1px solid #2a2a38;outline:none
  }
  input{
    flex:1;min-width:200px;background:#0f1016;color:#fff;padding:14px 14px
  }
  button{
    padding:12px 16px;font-weight:800;cursor:pointer
  }
  .go{background:linear-gradient(135deg,#ff4d6d,#ff8fab);color:#100a0a;border:0;box-shadow:0 6px 14px rgba(255,77,109,.35)}
  .hint{border:1px solid #2a2a38;background:#15161e;color:#eaeaf0}
  .scramble{display:inline-block;background:#1b1b24;border:1px solid #2a2a38;padding:6px 12px;border-radius:999px;letter-spacing:3px;font-weight:800}
  .reveal{display:none;margin-top:14px;font-size:clamp(22px,4.5vw,34px)}
  .sub{opacity:.9;margin-top:.4em}
  .footer{margin-top:12px;opacity:.7;font-size:.9rem;text-align:center}
  .bad{animation:shake .3s linear 1}
  @keyframes shake{0%,100%{transform:translateX(0)}25%{transform:translateX(-6px)}75%{transform:translateX(6px)}}
  /* Confetti canvas */
  canvas#confetti{position:fixed;inset:0;pointer-events:none}
</style>
</head>
<body>
<canvas id="confetti"></canvas>
<div class="wrap">
  <div class="card">
    <div class="badge" style="margin-bottom:10px;color:#ff8fab">üí°Goku vs Vegeta</div>
    <h1 id="title">Unscramble this word to see your surprise:</h1>
    <div class="scramble" id="scramble">V A L E N T I N E</div>
    <p class="sub">Type the correct word (hint button below if you need it).</p>

    <div class="row">
      <input id="guess" placeholder="your answer here‚Ä¶" autocomplete="off" />
      <button class="go" id="checkBtn">Check</button>
      <button class="hint" id="hintBtn">Hint</button>
    </div>

    <div class="reveal" id="reveal">Will you be my Valentine? üíê - Jerico</div>
    <p class="footer"> powered by me <span style="color:#ff8fab"></span></p>
  </div>
</div>

<script>
/* ============================
   PERSONALIZE THESE VALUES
   ============================ */
const recipientName = ""; // e.g., "Ana" (optional). If set, the title becomes "Ana, unscramble this‚Ä¶"
const answer = "valentine"; // the puzzle answer
const successPlan = "Feb 14, 7:00 PM ‚Äî dessert on me! üçÆ‚ú®"; // message after success

/* ====== UI wiring ====== */
const title    = document.getElementById("title");
const scramEl  = document.getElementById("scramble");
const guessEl  = document.getElementById("guess");
const checkBtn = document.getElementById("checkBtn");
const hintBtn  = document.getElementById("hintBtn");
const revealEl = document.getElementById("reveal");

/* Optional name */
if (recipientName) title.textContent = `${recipientName}, unscramble this to see your surprise:`;

/* Build a shuffled string that isn't identical to the answer */
function shuffledWord(word){
  const arr = word.split("");
  for (let i = arr.length - 1; i > 0; i--){
    const j = Math.floor(Math.random() * (i + 1));
    [arr[i], arr[j]] = [arr[j], arr[i]];
  }
  const s = arr.join("");
  return s.toLowerCase() === word.toLowerCase() ? shuffledWord(word) : s;
}

/* Show scramble (uppercased & spaced) */
function formatScramble(s){
  return s.toUpperCase().split("").join(" ");
}
const scrambled = shuffledWord(answer);
scramEl.textContent = formatScramble(scrambled);

/* Confetti setup (tiny, GPU‚Äëfriendly) */
const C = document.getElementById("confetti");
const ctx = C.getContext("2d");
let bits = [];
function resize(){ C.width = innerWidth; C.height = innerHeight; }
addEventListener("resize", resize); resize();
function burst(x = innerWidth/2, y = innerHeight/2, n = 220){
  for (let i = 0; i < n; i++){
    const ang = Math.random()*Math.PI*2, sp = 4+Math.random()*6;
    bits.push({
      x, y, vx: Math.cos(ang)*sp, vy: Math.sin(ang)*sp,
      life: 60+Math.random()*40, color:`hsl(${Math.random()*360},90%,60%)`
    });
  }
}
(function tick(){
  ctx.clearRect(0,0,C.width,C.height);
  bits.forEach(b=>{
    b.x += b.vx; b.y += b.vy; b.vy += 0.12; b.life -= 1;
    ctx.fillStyle = b.color; ctx.fillRect(b.x,b.y,3,8);
  });
  bits = bits.filter(b=>b.life>0);
  requestAnimationFrame(tick);
})();

/* Success flow */
function succeed(){
  revealEl.style.display = "block";
  burst(innerWidth*0.35, innerHeight*0.42, 240);
  burst(innerWidth*0.65, innerHeight*0.42, 240);
  setTimeout(()=> alert(`Yay! ${successPlan}`), 200);
}

/* Button actions */
checkBtn.onclick = () => {
  const guess = (guessEl.value || "").trim().toLowerCase();
  if (!guess){
    guessEl.classList.add("bad");
    setTimeout(()=>guessEl.classList.remove("bad"), 320);
    return;
  }
  if (guess === answer.toLowerCase()){
    succeed();
  } else {
    guessEl.classList.add("bad");
    setTimeout(()=>guessEl.classList.remove("bad"), 320);
    alert("Close! Try again üí™");
  }
  guessEl.focus();
};
hintBtn.onclick = () => {
  const half = answer.slice(0, Math.ceil(answer.length/2));
  alert(`Hint: starts with ‚Äú${half.toUpperCase()}‚Ä¶‚Äù`);
  guessEl.focus();
};

/* Enter key submits */
guessEl.addEventListener("keydown", e=>{
  if(e.key === "Enter") checkBtn.click();
});
</script>
</body>
</html>
